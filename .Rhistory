import os
import sys
1. Check if we are in the right environment
print(f"Python Path: {sys.executable}")
# 2. Check if the LD_PRELOAD fix is active
ld_preload = os.environ.get('LD_PRELOAD', 'NOT FOUND')
print(f"LD_PRELOAD: {ld_preload}")
# 3. Test FEniCSx and PETSc imports
try:
from dolfinx import mesh
from mpi4py import MPI
print("✅ FEniCSx and MPI imported successfully!")
except Exception as e:
print(f"❌ Import failed: {e}")
import os
import sys
1. Check if we are in the right environment
print(f"Python Path: {sys.executable}")
# 2. Check if the LD_PRELOAD fix is active
ld_preload = os.environ.get('LD_PRELOAD', 'NOT FOUND')
print(f"LD_PRELOAD: {ld_preload}")
# 3. Test FEniCSx and PETSc imports
try:
from dolfinx import mesh
from mpi4py import MPI
print("✅ FEniCSx and MPI imported successfully!")
except Exception as e:
print(f"❌ Import failed: {e}")
import os
import sys
#1. Check if we are in the right environment
print(f"Python Path: {sys.executable}")
# 2. Check if the LD_PRELOAD fix is active
ld_preload = os.environ.get('LD_PRELOAD', 'NOT FOUND')
print(f"LD_PRELOAD: {ld_preload}")
# 3. Test FEniCSx and PETSc imports
try:
from dolfinx import mesh
from mpi4py import MPI
print("✅ FEniCSx and MPI imported successfully!")
except Exception as e:
print(f"❌ Import failed: {e}")
import os
import sys
#1. Check if we are in the right environment
print(f"Python Path: {sys.executable}")
# 2. Check if the LD_PRELOAD fix is active
ld_preload = os.environ.get('LD_PRELOAD', 'NOT FOUND')
print(f"LD_PRELOAD: {ld_preload}")
# 3. Test FEniCSx and PETSc imports
try:
from dolfinx import mesh
from mpi4py import MPI
print("✅ FEniCSx and MPI imported successfully!")
except Exception as e:
print(f"❌ Import failed: {e}")
import os
import sys
#1. Check if we are in the right environment
print(f"Python Path: {sys.executable}")
# 2. Check if the LD_PRELOAD fix is active
ld_preload = os.environ.get('LD_PRELOAD', 'NOT FOUND')
print(f"LD_PRELOAD: {ld_preload}")
# 3. Test FEniCSx and PETSc imports
try:
from dolfinx import mesh
from mpi4py import MPI
print("✅ FEniCSx and MPI imported successfully!")
except Exception as e:
print(f"❌ Import failed: {e}")
import os
import ctypes
# 1. Manually load the Conda environment's C++ library globally
lib_path = "/home/dsingh/miniconda3/envs/fenicsx-low/lib/libstdc++.so.6"
ctypes.CDLL(lib_path, mode=ctypes.RTLD_GLOBAL)
# 2. Now try the imports
try:
import dolfinx
from mpi4py import MPI
import ufl
print("✅ Success! FEniCSx loaded using Conda's libstdc++")
except Exception as e:
print(f"❌ Still failing: {e}")`
import os
import ctypes
# 1. Manually load the Conda environment's C++ library globally
lib_path = "/home/dsingh/miniconda3/envs/fenicsx-low/lib/libstdc++.so.6"
ctypes.CDLL(lib_path, mode=ctypes.RTLD_GLOBAL)
# 2. Now try the imports
try:
import dolfinx
from mpi4py import MPI
import ufl
print("✅ Success! FEniCSx loaded using Conda's libstdc++")
except Exception as e:
print(f"❌ Still failing: {e}")
reticulate::repl_python()
#| label: fig-heat
#| fig-cap: "Advection-diffu "
par(mfrow = c(3, 4), mar = c(0.5, 0.5, 0.5, 0.5))
img_files <- list.files("~/advec", pattern = "*.png", full.names = TRUE)
for (f in img_files) {
img <- png::readPNG(f)
plot.new()
rasterImage(img, 0, 0, 1, 1)
}
#| label: fig-adv
#| fig-cap: "The Solution to Advection-Diffusion equation, on 16x16 mesh"
par(mfrow = c(3, 4), mar = c(0.2, 0.2, 0.2, 0.2))
img_files <- list.files("~/advec", pattern = "*.png", full.names = TRUE)
labels <- letters[1:length(img_files)]
for (i in 1:length(img_files)) {
img <- png::readPNG(img_files[i])
plot.new()
rasterImage(img, 0, 0, 1, 1)
# Add the letter label in the top-left corner of each sub-plot
# adj = 0 aligns it to the left, font = 2 makes it bold
mtext(paste0("(", labels[i], ")"), side = 3, line = 0.2, adj = 0, font = 2, cex = 1.1)
}
#| label: fig-adv
#| fig-cap: "The Solution to Advection-Diffusion equation, on 16x16 mesh"
par(mfrow = c(3, 4), mar = c(0.2, 0.2, 0.2, 0.2))
img_files <- list.files("~/advec", pattern = "*.png", full.names = TRUE)
labels <- letters[1:length(img_files)]
for (i in 1:length(img_files)) {
img <- png::readPNG(img_files[i])
plot.new()
rasterImage(img, 0, 0, 1, 1)
# Add the letter label in the top-left corner of each sub-plot
# adj = 0 aligns it to the left, font = 2 makes it bold
mtext(paste0("(", labels[i], ")"), side = 3, line = 0.2, adj = 0, font = 2, cex = 1.1)
}
#| label: fig-adv
#| fig-cap: "The Solution to Advection-Diffusion equation, on 16x16 mesh"
par(mfrow = c(3, 4), mar = c(0.2, 0.2, 0.2, 0.2))
img_files <- list.files("~/advec", pattern = "*.png", full.names = TRUE)
labels <- letters[1:length(img_files)]
for (i in 1:length(img_files)) {
img <- png::readPNG(img_files[i])
plot.new()
rasterImage(img, 0, 0, 1, 1)
# Add the letter label in the top-left corner of each sub-plot
# adj = 0 aligns it to the left, font = 2 makes it bold
mtext(paste0("(", labels[i], ")"), side = 3, line = 0.2, adj = 0, font = 2, cex = 1.1)
}
#| label: fig-adv
#| fig-cap: "The Solution to Advection-Diffusion equation, on 16x16 mesh"
par(mfrow = c(2, 4), mar = c(0.2, 0.2, 0.2, 0.2))
img_files <- list.files("~/advec", pattern = "*.png", full.names = TRUE)
labels <- letters[1:length(img_files)]
for (i in 1:length(img_files)) {
img <- png::readPNG(img_files[i])
plot.new()
rasterImage(img, 0, 0, 1, 1)
# Add the letter label in the top-left corner of each sub-plot
# adj = 0 aligns it to the left, font = 2 makes it bold
mtext(paste0("(", labels[i], ")"), side = 3, line = 0.2, adj = 0, font = 2, cex = 1.1)
}
#| label: fig-adv1
#| fig-cap: "The Solution to Advection-Diffusion equation, on 16x16 mesh for epsilon = 0.001,  showcasing the effect of adding Artificial Diffusion (c)&(d)"
par(mfrow = c(1, 4), mar = c(0.1, 0.1, 0.1, 0.1))
img_files <- list.files("~/advec/adv", pattern = "*.png", full.names = TRUE)
labels <- letters[1:length(img_files)]
for (i in 1:length(img_files)) {
img <- png::readPNG(img_files[i])
plot.new()
rasterImage(img, 0, 0, 1, 1)
# Add the letter label in the top-left corner of each sub-plot
# adj = 0 aligns it to the left, font = 2 makes it bold
mtext(paste0("(", labels[i], ")"), side = 3, line = 0.2, adj = 0, font = 2, cex = 1.1)
}
reticulate::repl_python()
